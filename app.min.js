function updateClassStatus(e,t,o){var n=Math.floor(t/e*100);n>100&&(n=100),document.getElementById(o+"-bar").style["grid-template-columns"]=`${n}% 1fr`;var r=e>t?e-t:"";document.getElementById(o+"-count").textContent=r}function getCounts(){fetch("https://soma-check-in.azurewebsites.net/api/LocationCounts",{headers:{"Access-Control-Allow-Origin":"https://soma-check-in.azurewebsites.net"}}).then(function(e){var t=e.headers.get("content-type");t&&t.includes("application/json")&&e.json().then(function(e){for(var t=0;t<e.length;t++)/Red\W/.test(e[t].name)&&updateClassStatus(e[t].limit,e[t].count,"red"),/Orange\W/.test(e[t].name)&&updateClassStatus(e[t].limit,e[t].count,"orange"),/Yellow\W/.test(e[t].name)&&updateClassStatus(e[t].limit,e[t].count,"yellow"),/Green\W/.test(e[t].name)&&updateClassStatus(e[t].limit,e[t].count,"green"),/Blue\W/.test(e[t].name)&&updateClassStatus(e[t].limit,e[t].count,"blue")})}).catch(function(e){console.log(e)})}"serviceWorker"in navigator&&navigator.serviceWorker.register("/soma-check-in/sw.min.js",{scope:"/soma-check-in/"}).then(function(e){e.installing?console.log("Service worker installing"):e.waiting?console.log("Service worker installed"):e.active&&console.log("Service worker active")}).catch(function(e){console.log("Registration failed with "+e)}),getCounts(),setTimeout(function(){setInterval(timer,3e3)},1e3);var timerCount=0,colorIndex=0,colors=["red","orange","#ffe623","green","blue"];function timer(){if(timerCount>=10){for(getCounts(),timerCount--;timerCount>=0;timerCount--)document.querySelector("#progress-grid").children[timerCount].style.backgroundColor="inherit";timerCount=0}else document.querySelector("#progress-grid").children[timerCount].style.backgroundColor=colors[colorIndex],colorIndex=(colorIndex+1)%colors.length,timerCount++}